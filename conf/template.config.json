{
	"logger": {
		"type": "global",
		"sinkaddress": "/tmp/grease.socket",
		"config": "${thisdir}/relay_logger.conf.json"
	},
	"container_templates": {
		"example_container": {
			"capabilities": {
				"NET_BIND_SERVICE": "permitted"
			},
			"cgroup_limits": {},
			"chroot_prefix": "/tmp/devjs_container"
		}
	},
	"deviceJSConfig": "/wigwag/etc/devicejs/devicejs.conf",
	"defaults": {
		"default_user": "*",  // means whoever runs it
		"default_group": "*"  // means whatever group runs it
	},
	"process_groups": {
		"core": {
			"limits": {
				"cgroup_limits": {},
				"capabilties": {}
			},
			"node_args": [
                "--max-executable-size=96",
                "--max-old-space-size=128",
                "--max-semi-space-size=1",
                "--nouse-idle-notification"
			],
                        "restart" : {
                            "limit" : 10,
                            "timeout" : 5000
                        },
			"modules": {},
			"user": "devicejs",
			"group": "devicejs",
			"deviceJSCore": {
				"root": "/wigwag/devicejs-ng",
				"opts": []
			}
		},
		"db": {
                        "restart" : {
                            "limit" : 10,
                            "timeout" : 5000
                        },
			"node_args": [
                            "--max-executable-size=96",
                            "--max-old-space-size=128",
                            "--max-semi-space-size=1"
			],
			"databaseConfig": {
				"port": 9000,
				"dbFile": "/wigwag/etc/devicejs/db",
				"logger": {
					"enabled": true
				}
			}
		},
		"core-devices": {
			"limits": {
				"limit_group": ""
                                // cgroup limits here - TBD
			},
			"node_args": [
                            "--max-executable-size=96",
                            "--max-old-space-size=128",
                            "--max-semi-space-size=1"
			],
                        "restart" : {
                            "limit" : 10,
                            "timeout" : 5000
                        },
			"env": {
				"NODE_PATH": "${NODE_PATH}:${thisdir}/../node_modules:/wigwag/devicejs-core-modules/IPStack/node_modules"
			},
			"modules": [
				{
					"path": "${thisdir}/../core-lighting",
					"config": {}
				},
				{
					"path": "${thisdir}/../core-interfaces",
					"config": {}
				},
				{
					"path": "${thisdir}/../wigwag-devices",
					"config": {
                                                "cloudURL": "{{cloudurl}}",
                                                "apiKey": "{{apikey}}",
                                                "apiSecret": "{{apisecret}}",
						"udpSourcePort": 3000,
						"udpDestinationPort": 3001,
                                                "platform": "{{wwplatform}}",
						"sixlbr": {
							"ifname": "Witap0",
							"wsnNet": "bbbb::100",
							"sixlbr": {
								"tundev": "Witap0",
								"use_raw_ethernet": false,
								"log_level": [
									"error", "routing"
								],
                                                                "platform": "{{wwplatform}}",
                                                                "siodev": "{{sixlbrtty}}",
								"siodev_secondary": "ttyUSB1",
								"sixBMAC": "{{sixbmac}}",
								"baudrate": 115200,
								"slip_delay": 0,
								"ww_encryption": true,
								"firmware_path_mc1322": "/home/yashgoyal/workspace/devicejs/core/",
								"firmware_file_prefix": "slip-radio_econotag",
								"reset_GPIO_path_firmware_mc1322": "/sys/class/gpio/gpio105/value",
								"erase_GPIO_path_firmware_mc1322": "/sys/class/gpio/gpio103/value",
								"reset_GPIO_path_firmware_cc2530": "{{sixlbrreset}}",
								"relay_version": 7,
								"nvm_data": {
									"channel": 20,
									"rpl_dio_intdoubl": 1,
									"rpl_dio_intmin": 12,
									"rpl_default_lifetime": 4,
									"rpl_lifetime_unit": 100,
									"rpl_version_id": 247
								}
							}
						}
					}
				},
				{
					"path": "${thisdir}/../zwave",
					"config": {
						"siodev": "{{zwavetty}}",
						"modpath": "",
						"consoleoutput": false,
						"logging": false,
						"saveconfig": false,
						"driverattempts": 3,
						"pollinterval": 500,
						"suppressrefresh": true,
						"notifytransactions": true,
						"platform": "{{wwplatform}}"
					}
				}
			]
		},
		"core-servers": {
			"limits": {
				"limit_group": ""
			},
			"node_args": [
                            "--max-executable-size=96",
                            "--max-old-space-size=128",
                            "--max-semi-space-size=1"
			],
                        "restart" : {
                            "limit" : 10,
                            "timeout" : 5000
                        },
			"env": {
				"NODE_PATH": "${NODE_PATH}:${thisdir}/../node_modules:/wigwag/devicejs-core-modules/IPStack/node_modules"
			},
			"modules": [
				{
					"path": "${thisdir}/../AppServer",
					"config": {
						"authentication": {
							"enabled": true,
							"cloudAPISecret": "{{apisecret}}",
							"redirectURL": "/wigwag-ui/s/login/",
							 "cloudRedirectURL": "{{cloudurl}}/s/login"
						},
						"port": 443,
                                                "ssl": {
                                                    "key": "${thisdir}/../AppServer/Certs/server.key",
                                                    "certificate": "${thisdir}/../AppServer/Certs/server.crt",
                                                    "certificateAuthority": "${thisdir}/../AppServer/Certs/ca.crt"
                                                }
					}
				},
				{
					"path": "${thisdir}/../APIProxy",
					"config": {
						"cloudAPISecret": "{{apisecret}}",
						"apiKey": "hello",
						"apiSecret": "asdfdsfa"
					}
				},
				{
					"path": "${thisdir}/../IPStack",
					"config": {
						"wan": [
							"eth0",
							"eth1",
							"wlan0"
						],
						"dhcp": "on",
						"static": {
							"ipaddress": "10.10.20.31",
							"mask": "255.255.255.0",
							"gateway": "10.10.20.1"
						},
						"ethernetMAC": "{{ethernetmac}}"
					}
				},
				{
					"path": "${thisdir}/../../wigwag-core-modules/MDNS",
					"config": {
						"id":"{{apikey}}",
						"waitForIPStack": true,
						"port": 443 
					}
				},
				{
					"path": "${thisdir}/../../wigwag-core-modules/LEDController",
					"config": {
						"ledBrightness": 10,
						"redAlertMail": false,
						"sendTo": "dev@izuma.net",
						"attachments":[
						            {
					        	        "filename": "devicejs.log",
						                "path": "/wigwag/log/devicejs.log"
						            },
						            {
						                "filename": "devicejs.log.1",
						                "path": "/wigwag/log/devicejs.log.1"
						            },
						            {
						                "filename": "devicejs.log.2", 
						                "path": "/wigwag/log/devicejs.log.2"
						            },
						            {
						                "filename": "devicejs.log.3",
						                "path": "/wigwag/log/devicejs.log.3"
						            },
						            {
						                "filename": "devicejs.log.4", 
						                "path": "/wigwag/log/devicejs.log.4"
						            },
						            {
						                "filename": "devicejs.log.5", 
						                "path": "/wigwag/log/devicejs.log.5"
						            }
					        ],
						"times": 1			
					}
				}
			]
		},
		"wigwag-servers": {
			"limits": {
				"limit_group": ""
			},
			"node_args": [
                "--max-executable-size=96",
                "--max-old-space-size=128",
                "--max-semi-space-size=1"
			],
                        "restart" : {
                            "limit" : 10,
                            "timeout" : 5000
                        },
			"env": {
				"NODE_PATH": "${NODE_PATH}:${thisdir}/../node_modules"
			},
			"modules": [
				{
					"path": "${thisdir}/../../wigwag-core-modules/WigWagMobileUI",
					"config": {}
				},
				{
					"path": "${thisdir}/../../wigwag-core-modules/wigwag-ui",
					"config": {
						"cloudAPISecret": "{{apisecret}}"
					}
				},
				{
					"path": "${thisdir}/../../wigwag-core-modules/WWRelayWebUI",
					"config": {}
				},
				{
					"path": "${thisdir}/../../wigwag-core-modules/RuleUI",
					"config": {
                                           "debug_mode":true,
                                           "debug_level" : 3, // goes up to 3, default 1
                                           "RULE_NODE_TYPES_DIRECTORY": [
                                               "${thisdir}/../RuleEngine/src/nodes"
                                           ],
                                           "FORMS_DIR" : [
                                               { "path": "${thisdir}/../../wigwag-core-modules/RuleUI/schemaFormDialogs", "ignores" : ["_public"] }
                                           ]
                                         }
				},
				{
					"path": "${thisdir}/../../wigwag-core-modules/cloud-tunnel",
					"config": {
                                            "apiKey": "{{apikey}}",
                                            "apiSecret": "{{apisecret}}",
                                            "cloudURL": "{{cloudurl}}"
					}
				},
				{
					"path": "${thisdir}/../../wigwag-core-modules/moods",
					"config": {
                                            "jwtSecret": "IXPySxxr0f5X2CIqdB45eK",
                                            "apiKey": "{{apikey}}",
                                            "apiSecret": "{{apisecret}}"

					}
				}
			]
		},
		"user": {
			"limits": {
				"limit_group": ""
			},
			"node_args": [
                            "--max-executable-size=96",
                            "--max-old-space-size=128",
                            "--max-semi-space-size=1"
			],
                        "restart" : {
                            "limit" : 10,
                            "timeout" : 5000
                        },
			"env": {
				"NODE_PATH": "${NODE_PATH}:${thisdir}/../node_modules"
			},
			"modules": [
				{
					"path": "${thisdir}/../../wigwag-core-modules/RuleEngine",
					"config": {}
				}
			]
		}
	}
}
